<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Everywhere Futbol - Ultra Arena 2026</title>
    <style>
        :root { --bg: #f0f2f5; --header-bg: #1e3a8a; --card: #ffffff; --text: #1e3a8a; --accent: #d4af37; --whatsapp: #25d366; --border: #e2e8f0; --glass: rgba(255,255,255,0.95); }
        [data-theme="dark"] { --bg: #0b0f19; --header-bg: #161b28; --card: #1f2937; --text: #f8fafc; --border: #374151; --glass: rgba(31,41,55,0.95); }
        
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--bg); color: var(--text); transition: 0.3s; padding-bottom: 120px; overflow-x: hidden; }
        header { background: var(--header-bg); padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 3px solid var(--accent); position: sticky; top: 0; z-index: 1000; color: white; }
        
        /* Stats & Progress */
        .user-stats { display: flex; flex-direction: column; align-items: flex-end; cursor: pointer; background: rgba(255,255,255,0.1); padding: 5px 12px; border-radius: 12px; border: 1px solid var(--accent); min-width: 100px; }
        .xp-container { width: 100%; height: 4px; background: rgba(255,255,255,0.2); border-radius: 2px; margin-top: 4px; overflow: hidden; }
        #xpBar { height: 100%; background: var(--accent); width: 0%; transition: 0.5s; }
        
        .container { max-width: 500px; margin: auto; padding: 15px; }
        .timer-badge { font-size: 0.65rem; background: #e74c3c; color: white; padding: 2px 8px; border-radius: 10px; font-weight: bold; }

        /* Live Score Card */
        .live-card { background: linear-gradient(135deg, #1e3a8a, #0f172a); color: white; border-radius: 20px; padding: 15px; margin-bottom: 20px; display: flex; justify-content: space-around; align-items: center; position: relative; overflow: hidden; }
        .live-dot { position: absolute; top: 10px; left: 10px; width: 8px; height: 8px; background: #ff4757; border-radius: 50%; animation: blink 1s infinite; }
        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }

        /* News Slider */
        .news-wrapper { display: flex; overflow-x: auto; gap: 12px; padding-bottom: 5px; scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch; }
        .news-wrapper::-webkit-scrollbar { display: none; }
        .news-item { min-width: 85%; background: var(--card); border-left: 5px solid var(--accent); padding: 15px; border-radius: 15px; scroll-snap-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }

        /* Penalty Arena */
        .penalty-arena { background: linear-gradient(#2ecc71, #27ae60); border: 4px solid white; border-radius: 15px; position: relative; height: 180px; display: flex; align-items: flex-end; justify-content: center; overflow: hidden; margin-top: 10px; box-shadow: inset 0 0 50px rgba(0,0,0,0.2); }
        .goal-post { position: absolute; top: 10px; width: 75%; height: 100px; border: 4px solid white; border-bottom: none; z-index: 1; background: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 11px); }
        .keeper { position: absolute; top: 40px; font-size: 3rem; transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 2; }
        .ball { font-size: 1.8rem; transition: 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94); z-index: 3; position: absolute; bottom: 15px; filter: drop-shadow(0 5px 3px rgba(0,0,0,0.3)); }
        
        .kick-btn { flex: 1; padding: 12px; border-radius: 10px; border: none; background: var(--header-bg); color: white; font-weight: bold; cursor: pointer; box-shadow: 0 4px 0 #0f172a; }
        .kick-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 #0f172a; }
        .kick-btn:disabled { opacity: 0.5; cursor: not-allowed; }

        .card { background: var(--card); border-radius: 20px; padding: 15px; margin-bottom: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); border: 1px solid var(--border); }
        .quiz-option { padding: 12px; margin: 8px 0; border-radius: 10px; background: var(--bg); border: 1px solid var(--border); cursor: pointer; text-align: center; font-weight: 600; transition: 0.2s; }
        
        #goalAlert { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); background: var(--accent); color: #000; padding: 25px 50px; border-radius: 100px; font-size: 2.5rem; font-weight: 900; z-index: 9999; transition: 0.5s; border: 5px solid white; pointer-events: none; text-shadow: 2px 2px 0 white; }
        
        .nav-bar { position: fixed; bottom: 12px; left: 50%; transform: translateX(-50%); width: 92%; max-width: 450px; background: var(--glass); display: flex; justify-content: space-around; padding: 15px; border-radius: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 1000; backdrop-filter: blur(10px); }
        .wp-btn { background: var(--whatsapp); color: white; text-decoration: none; padding: 15px; border-radius: 15px; display: block; font-weight: bold; text-align: center; margin-top: 10px; }
    </style>
</head>
<body id="mainBody">

<div id="goalAlert">QOL OLDU! ‚öΩ</div>
<div style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:none;z-index:10000;" id="overlay" onclick="closeModal()"></div>

<div id="levelModal" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);width:85%;max-width:400px;background:var(--card);border-radius:25px;padding:25px;z-index:10001;border:2px solid var(--accent);transition:0.3s;">
    <h2 style="text-align:center;color:var(--accent);margin-top:0;">üèÜ S…ôviyy…ô C…ôdv…ôli</h2>
    <div id="rankList" style="font-size:0.85rem;line-height:2.2;"></div>
    <button onclick="closeModal()" style="width:100%;margin-top:20px;padding:12px;background:var(--header-bg);color:white;border:none;border-radius:12px;font-weight:bold;">ANLADIM</button>
</div>

<header>
    <div>
        <div style="font-size: 0.6rem; opacity: 0.8;">XO≈û G∆èLDƒ∞N</div>
        <div style="font-weight:900;font-size:0.9rem;">EVERYWHERE FUTBOL</div>
    </div>
    <div class="user-stats" onclick="openModal()">
        <span class="rank-name" id="userRank">YAX≈ûI</span>
        <div class="xp-container"><div id="xpBar"></div></div>
        <span id="xpText" style="font-size:0.6rem; margin-top:3px;">0 / 150 XP</span>
    </div>
</header>

<div class="container">
    <div class="live-card">
        <div class="live-dot"></div>
        <div style="text-align:center;">üá¶üáø<br><small>Qarabaƒü</small></div>
        <div style="text-align:center;">
            <div id="matchTime" style="font-size:0.7rem; background:rgba(255,0,0,0.6); padding:2px 6px; border-radius:5px; margin-bottom:5px;">24'</div>
            <div style="font-size:1.8rem; font-weight:900; letter-spacing: 5px;">2-1</div>
        </div>
        <div style="text-align:center;">üá™üá∏<br><small>R.Madrid</small></div>
    </div>

    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;">
        <b style="font-size:0.8rem;">üóûÔ∏è TRANSFER BOMBALARI (2026)</b>
        <span class="timer-badge" id="newsTimer">00:00:00</span>
    </div>
    <div class="news-wrapper" id="newsSection"></div>

    <div style="display:flex;justify-content:space-between;align-items:center;margin:20px 0 5px;">
        <b style="font-size:0.8rem;">ü•Ö PENALTƒ∞ CHALLENGE (12H)</b>
        <span class="timer-badge" id="shotTimer">HAZIR</span>
    </div>
    <div class="card" style="padding:10px;">
        <div class="penalty-arena">
            <div class="goal-post"></div>
            <div class="keeper" id="keeper" style="left: 50%; transform: translateX(-50%);">üï¥Ô∏è</div>
            <div class="ball" id="ball" style="left: 50%; transform: translateX(-50%);">‚öΩ</div>
        </div>
        <div style="display:flex;gap:10px;margin-top:15px;" id="shotControls">
            <button class="kick-btn" onclick="shoot(0)">SOL</button>
            <button class="kick-btn" onclick="shoot(1)">ORTA</button>
            <button class="kick-btn" onclick="shoot(2)">SAƒû</button>
        </div>
        <p id="gameMsg" style="text-align:center;font-weight:bold;margin-top:10px;color:var(--accent);min-height:1.2em;"></p>
    </div>

    <div style="display:flex;justify-content:space-between;align-items:center;margin:10px 0;">
        <b style="font-size:0.8rem;">üß† SUAL (2 SAAT)</b>
        <span class="timer-badge" id="quizTimer">AKTƒ∞VDƒ∞R</span>
    </div>
    <div class="card" id="quizBox"><div id="quizIn"></div></div>

    <div class="footer-promo">
        <h3 style="margin:0;font-size:1rem;">üì¢ Kanalƒ±mƒ±za Qo≈üul</h3>
        <p style="font-size:0.8rem; opacity:0.8;">∆èn son transferl…ôri ilk s…ôn bil!</p>
        <a href="https://whatsapp.com/channel/0029VbBcLFD11ulP6FxiLf0H" target="_blank" class="wp-btn">WHATSAPP-A KE√á</a>
        <div style="margin-top:15px;padding-top:15px;border-top:1px solid var(--border); font-size:0.75rem;">
            <p style="font-weight:bold;color:var(--accent);margin-bottom:5px;">‚ú® Reklam yerl…ô≈üdirm…ôk √º√ß√ºn:</p>
            <small>∆èlaq…ô: <b>055 843 05 05</b></small>
        </div>
    </div>
</div>

<div class="nav-bar">
    <div onclick="toggleTheme()" style="font-size:1.5rem;cursor:pointer;">üåì</div>
    <div onclick="window.scrollTo({top:0, behavior:'smooth'})" style="font-size:1.5rem;cursor:pointer;">üè†</div>
    <div onclick="alert('Market Tezlikl…ô: Qazandƒ±ƒüƒ±n XP-l…ôrl…ô yeni toplar ala bil…ôc…ôks…ôn!')" style="font-size:1.5rem;cursor:pointer;">üè™</div>
</div>

<script>
    let userXP = parseInt(localStorage.getItem('ef_xp')) || 0;
    const NEWS_INT = 14400000, QUIZ_INT = 7200000, SHOT_INT = 43200000;
    const ranks = [{lvl:1,n:"Yax≈üƒ±",x:0},{lvl:2,n:"Az…ôrke≈ü",x:150},{lvl:3,n:"Fanat",x:450},{lvl:4,n:"Taktik",x:1000},{lvl:5,n:"Pro",x:2000},{lvl:6,n:"Ulduz",x:3500},{lvl:7,n:"R…ôhb…ôr",x:5500},{lvl:8,n:"Analitik",x:8000},{lvl:9,n:"√áempion",x:11500},{lvl:10,n:"LEGEND",x:16000}];

    function updateStats(xp=0){
        userXP+=xp; localStorage.setItem('ef_xp', userXP);
        let curr = ranks[0], next = ranks[1];
        ranks.forEach((r, i)=>{if(userXP>=r.x) { curr=r; next=ranks[i+1] || r; }});
        
        document.getElementById('userRank').innerText = curr.n;
        let progress = next === curr ? 100 : ((userXP - curr.x) / (next.x - curr.x)) * 100;
        document.getElementById('xpBar').style.width = progress + "%";
        document.getElementById('xpText').innerText = `${userXP} / ${next.x} XP`;
    }

    function formatTime(ms){
        if(ms<0) return "00:00:00";
        let h=Math.floor(ms/3600000).toString().padStart(2,'0');
        let m=Math.floor((ms%3600000)/60000).toString().padStart(2,'0');
        let s=Math.floor((ms%60000)/1000).toString().padStart(2,'0');
        return `${h}:${m}:${s}`;
    }

    function handleNews(){
        const now=Date.now(); let last=localStorage.getItem('news_t')||0;
        let data=JSON.parse(localStorage.getItem('news_d'));
        if(now-last>NEWS_INT || !data){
            data=[
                "D√á-2026: Bakƒ± Olimpiya Stadionu a√ßƒ±lƒ±≈ü √º√ß√ºn namiz…ôddir!",
                "Real Madrid Arda G√ºler √º√ß√ºn 80 milyonluq t…ôklifi r…ôdd etdi.",
                "Qarabaƒü FK √áempionlar Liqasƒ±nda yeni rekorda imza atdƒ±!",
                "Messi r…ôsm…ôn a√ßƒ±qladƒ±: 'D√á-2026-da kapitan m…ôn…ôm!'",
                "Lamine Yamalƒ±n bazar d…ôy…ôri 200 milyon avronu ke√ßdi."
            ].sort(()=>.5-Math.random());
            localStorage.setItem('news_d',JSON.stringify(data)); localStorage.setItem('news_t',now); last=now;
        }
        document.getElementById('newsSection').innerHTML=data.map(n=>`<div class="news-item"><b>T∆èCƒ∞Lƒ∞:</b><br>${n}</div>`).join('');
        setInterval(()=>{document.getElementById('newsTimer').innerText=formatTime(NEWS_INT-(Date.now()-last))},1000);
    }

    function shoot(p){
        const last=localStorage.getItem('shot_t')||0;
        if(Date.now()-last < SHOT_INT) return;
        
        const k=Math.floor(Math.random()*3), off=["-75px","0px","75px"];
        const keeper = document.getElementById('keeper');
        const ball = document.getElementById('ball');
        
        keeper.style.transform = `translateX(calc(-50% + ${off[k]}))`;
        ball.style.transform = `translate(calc(-50% + ${off[p]}), -130px) scale(0.5)`;
        
        setTimeout(()=>{
            if(p===k) {
                document.getElementById('gameMsg').innerText="QAPICI TUTDU! üï¥Ô∏è";
            } else {
                document.getElementById('gameMsg').innerText="M√úK∆èMM∆èL QOL! +100 XP";
                updateStats(100);
                let ga=document.getElementById('goalAlert');
                ga.style.transform="translate(-50%,-50%) scale(1)";
                setTimeout(()=>ga.style.transform="translate(-50%,-50%) scale(0)",1500);
            }
            localStorage.setItem('shot_t', Date.now());
            handleShot();
            setTimeout(resetArena, 2000);
        },600);
    }

    function resetArena(){
        document.getElementById('keeper').style.transform = "translateX(-50%)";
        document.getElementById('ball').style.transform = "translateX(-50%)";
    }

    function handleShot(){
        const last=localStorage.getItem('shot_t')||0, rem=SHOT_INT-(Date.now()-last);
        const btns=document.querySelectorAll('#shotControls button');
        if(rem>0){
            btns.forEach(b=>b.disabled=true);
            const itv=setInterval(()=>{
                let r=SHOT_INT-(Date.now()-last);
                document.getElementById('shotTimer').innerText=formatTime(r);
                if(r<=0){clearInterval(itv); handleShot();}
            },1000);
        } else { btns.forEach(b=>b.disabled=false); document.getElementById('shotTimer').innerText="HAZIR"; }
    }

    function handleQuiz(){
        const last=localStorage.getItem('quiz_t')||0, rem=QUIZ_INT-(Date.now()-last), b=document.getElementById('quizIn');
        if(rem>0){
            b.innerHTML=`<center style="padding:20px;opacity:0.5">N√∂vb…ôti sual hazƒ±rlanƒ±r...</center>`;
            setInterval(()=>document.getElementById('quizTimer').innerText=formatTime(QUIZ_INT-(Date.now()-last)),1000);
        } else {
            const pool=[
                {q:"D√ºnya √áempionatƒ±nƒ± …ôn √ßox qazanan √∂lk…ô?", a:["Almaniya","Braziliya","ƒ∞taliya"], c:1},
                {q:"2024-c√º il Avropa √áempionu hansƒ± √∂lk…ôdir?", a:["ƒ∞ngilt…ôr…ô","Fransa","ƒ∞spaniya"], c:2},
                {q:"Qƒ±zƒ±l Topu …ôn √ßox qazanan oyun√ßu?", a:["C.Ronaldo","L.Messi","Zidan"], c:1}
            ];
            const q = pool[Math.floor(Math.random()*pool.length)];
            b.innerHTML=`<div style="text-align:center;font-weight:bold;margin-bottom:12px">${q.q}</div>`+q.a.map((o,i)=>`<div class="quiz-option" onclick="checkQ(this,${i},${q.c})">${o}</div>`).join('');
            document.getElementById('quizTimer').innerText="AKTƒ∞VDƒ∞R";
        }
    }

    function checkQ(el,i,c){
        const opts = document.querySelectorAll('.quiz-option');
        opts.forEach(o => o.style.pointerEvents = 'none');
        if(i===c){el.classList.add('quiz-correct'); updateStats(50);} else el.classList.add('quiz-wrong');
        localStorage.setItem('quiz_t',Date.now()); setTimeout(handleQuiz,2000);
    }

    function openModal(){
        document.getElementById('rankList').innerHTML=ranks.map(r=>`<div style="display:flex;justify-content:space-between;${userXP>=r.x?'color:var(--accent);font-weight:bold':'opacity:0.4'}"><span>LVL ${r.lvl} - ${r.n}</span><span>${r.x} XP</span></div>`).join('');
        document.getElementById('levelModal').style.transform="translate(-50%,-50%) scale(1)"; document.getElementById('overlay').style.display='block';
    }
    function closeModal(){ document.getElementById('levelModal').style.transform="translate(-50%,-50%) scale(0)"; document.getElementById('overlay').style.display='none'; }
    function toggleTheme(){ let b=document.body; b.hasAttribute('data-theme')?b.removeAttribute('data-theme'):b.setAttribute('data-theme','dark'); }
    
    // Live Match Time Sim
    setInterval(() => {
        let m = document.getElementById('matchTime');
        let current = parseInt(m.innerText);
        if(current < 90) m.innerText = (current + 1) + "'";
    }, 60000);

    window.onload=()=>{ updateStats(); handleNews(); handleShot(); handleQuiz(); };
</script>
</body>
</html>

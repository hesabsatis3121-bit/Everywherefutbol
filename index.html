<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Everywhere Futbol - Pro Arena</title>
    <style>
        :root { --bg: #f0f2f5; --header-bg: #1e3a8a; --card: #ffffff; --text: #1e3a8a; --accent: #d4af37; --whatsapp: #25d366; --border: #e2e8f0; --glass: rgba(255,255,255,0.95); }
        [data-theme="dark"] { --bg: #0b0f19; --header-bg: #161b28; --card: #1f2937; --text: #f8fafc; --border: #374151; --glass: rgba(31,41,55,0.95); }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--bg); color: var(--text); transition: 0.3s; padding-bottom: 120px; overflow-x: hidden; }
        header { background: var(--header-bg); padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 3px solid var(--accent); position: sticky; top: 0; z-index: 1000; color: white; }
        .user-stats { display: flex; flex-direction: column; align-items: flex-end; cursor: pointer; background: rgba(255,255,255,0.1); padding: 5px 12px; border-radius: 12px; border: 1px solid var(--accent); }
        .rank-name { font-size: 0.75rem; font-weight: 900; color: var(--accent); text-transform: uppercase; }
        .level-text { font-size: 0.65rem; color: #fff; opacity: 0.9; }
        .container { max-width: 500px; margin: auto; padding: 15px; }
        .timer-badge { font-size: 0.65rem; background: #e74c3c; color: white; padding: 2px 8px; border-radius: 10px; font-weight: bold; }
        .news-box { background: var(--card); border-left: 5px solid var(--accent); padding: 12px; border-radius: 12px; margin-bottom: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        /* Penalty Arena */
        .penalty-arena { background: linear-gradient(#2ecc71, #27ae60); border: 4px solid white; border-radius: 15px; position: relative; height: 160px; display: flex; align-items: flex-end; justify-content: center; overflow: hidden; margin-top: 10px; }
        .keeper { position: absolute; top: 30px; font-size: 3rem; transition: 0.4s; z-index: 2; }
        .ball { font-size: 1.6rem; transition: 0.5s; z-index: 3; position: absolute; bottom: 10px; }
        .kick-btn { flex: 1; padding: 12px; border-radius: 10px; border: none; background: var(--header-bg); color: white; font-weight: bold; cursor: pointer; }
        .kick-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        /* Common UI */
        .card { background: var(--card); border-radius: 20px; padding: 15px; margin-bottom: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .quiz-option { padding: 10px; margin: 5px 0; border-radius: 8px; background: var(--bg); border: 1px solid var(--border); cursor: pointer; text-align: center; font-weight: 600; }
        .quiz-correct { background: #2ecc71 !important; color: white; }
        .quiz-wrong { background: #e74c3c !important; color: white; }
        #goalAlert { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); background: var(--accent); color: #000; padding: 20px 40px; border-radius: 50px; font-size: 2.5rem; font-weight: 900; z-index: 9999; transition: 0.4s; border: 4px solid white; pointer-events: none; }
        .footer-promo { background: var(--card); border-radius: 20px; padding: 20px; text-align: center; border: 1px dashed var(--accent); }
        .wp-btn { background: var(--whatsapp); color: white; text-decoration: none; padding: 12px 20px; border-radius: 30px; display: inline-block; font-weight: bold; }
        .nav-bar { position: fixed; bottom: 12px; left: 50%; transform: translateX(-50%); width: 92%; max-width: 450px; background: var(--glass); display: flex; justify-content: space-around; padding: 15px; border-radius: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 1000; }
    </style>
</head>
<body id="mainBody">

<div id="goalAlert">QOL OLDU! ‚öΩ</div>
<div style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);display:none;z-index:10000;" id="overlay" onclick="closeModal()"></div>

<div id="levelModal" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);width:85%;max-width:400px;background:var(--glass);border-radius:25px;padding:25px;z-index:10001;border:2px solid var(--accent);transition:0.3s;backdrop-filter:blur(15px);">
    <h2 style="text-align:center;color:var(--accent);">üèÜ S…ôviyy…ôl…ôr</h2>
    <div id="rankList" style="font-size:0.85rem;line-height:2;"></div>
    <button onclick="closeModal()" style="width:100%;margin-top:15px;padding:12px;background:var(--header-bg);color:white;border:none;border-radius:10px;font-weight:bold;">BAƒûLA</button>
</div>

<header>
    <div style="font-weight:900;font-size:0.85rem;">üåê EVERYWHERE FUTBOL</div>
    <div class="user-stats" onclick="openModal()">
        <span class="rank-name" id="userRank">YAX≈ûI</span>
        <span class="level-text" id="userLevelXP">LVL 1 ‚Ä¢ 0 XP</span>
    </div>
</header>

<div class="container">
    <div style="display:flex;justify-content:space-between;align-items:center;margin:10px 0;">
        <b style="font-size:0.8rem;">üóûÔ∏è TRANSFER BOMBALARI</b>
        <span class="timer-badge" id="newsTimer">00:00:00</span>
    </div>
    <div id="newsSection"></div>

    <div style="display:flex;justify-content:space-between;align-items:center;margin:15px 0 5px;">
        <b style="font-size:0.8rem;">ü•Ö PENALTƒ∞ (12 SAAT)</b>
        <span class="timer-badge" id="shotTimer">HAZIR</span>
    </div>
    <div class="card" style="padding:10px;">
        <div class="penalty-arena">
            <div class="keeper" id="keeper">üß§</div>
            <div class="ball" id="ball">‚öΩ</div>
        </div>
        <div style="display:flex;gap:10px;margin-top:15px;" id="shotControls">
            <button class="kick-btn" onclick="shoot(0)">SOL</button>
            <button class="kick-btn" onclick="shoot(1)">ORTA</button>
            <button class="kick-btn" onclick="shoot(2)">SAƒû</button>
        </div>
        <p id="gameMsg" style="text-align:center;font-weight:bold;margin-top:10px;color:var(--accent);font-size:0.8rem;"></p>
    </div>

    <div style="display:flex;justify-content:space-between;align-items:center;margin:10px 0;">
        <b style="font-size:0.8rem;">üß† SUAL (2 SAAT)</b>
        <span class="timer-badge" id="quizTimer">AKTƒ∞VDƒ∞R</span>
    </div>
    <div class="card" id="quizBox"><div id="quizIn"></div></div>

    <div class="footer-promo">
        <h3 style="margin:0;font-size:1rem;">üì¢ Everywhere Futbol Kanala Qo≈üul</h3>
        <a href="https://whatsapp.com/channel/0029VbBcLFD11ulP6FxiLf0H" target="_blank" class="wp-btn">WHATSAPP KANALINA KE√á</a>
        <div style="margin-top:15px;padding-top:15px;border-top:1px solid var(--border);">
            <p style="font-weight:bold;color:var(--accent);margin:0 0 5px;">‚ú® Burada s…ônin kanalƒ±n ola bil…ôr</p>
            <small>∆èlaq…ô: <b>055 843 05 05</b></small>
        </div>
    </div>
</div>

<div class="nav-bar">
    <div onclick="toggleTheme()" style="font-size:1.5rem;">üåì</div>
    <div onclick="window.scrollTo(0,0)" style="font-size:1.5rem;">üè†</div>
    <div onclick="alert('Tezlikl…ô!')" style="font-size:1.5rem;">üè™</div>
</div>

<script>
    let userXP = parseInt(localStorage.getItem('ef_xp')) || 0;
    const NEWS_INT = 14400000, QUIZ_INT = 7200000, SHOT_INT = 43200000;
    const ranks = [{lvl:1,n:"Yax≈üƒ±",x:0},{lvl:2,n:"Az…ôrke≈ü",x:150},{lvl:3,n:"Fanat",x:450},{lvl:4,n:"Taktik",x:1000},{lvl:5,n:"Pro",x:2000},{lvl:6,n:"Ulduz",x:3500},{lvl:7,n:"R…ôhb…ôr",x:5500},{lvl:8,n:"Analitik",x:8000},{lvl:9,n:"√áempion",x:11500},{lvl:10,n:"LEGEND",x:16000}];

    function updateStats(xp=0){
        userXP+=xp; localStorage.setItem('ef_xp', userXP);
        let curr = ranks[0]; ranks.forEach(r=>{if(userXP>=r.x) curr=r;});
        document.getElementById('userRank').innerText=curr.n;
        document.getElementById('userLevelXP').innerText=`LVL ${curr.lvl} ‚Ä¢ ${userXP} XP`;
    }

    function formatTime(ms){
        if(ms<0) return "00:00:00";
        let h=Math.floor(ms/3600000).toString().padStart(2,'0');
        let m=Math.floor((ms%3600000)/60000).toString().padStart(2,'0');
        let s=Math.floor((ms%60000)/1000).toString().padStart(2,'0');
        return `${h}:${m}:${s}`;
    }

    function handleNews(){
        const now=Date.now(); let last=localStorage.getItem('news_t')||0;
        let data=JSON.parse(localStorage.getItem('news_d'));
        if(now-last>NEWS_INT || !data){
            data=["Real Madrid Arda √º√ß√ºn 40M r…ôdd etdi!","Juninho Avropa klublarƒ±nƒ±n radarƒ±nda!","Mbappe PSJ-d…ôn ayrƒ±lmaqdan danƒ±≈üdƒ±."].sort(()=>.5-Math.random()).slice(0,2);
            localStorage.setItem('news_d',JSON.stringify(data)); localStorage.setItem('news_t',now); last=now;
        }
        document.getElementById('newsSection').innerHTML=data.map(n=>`<div class="news-box"><b>${n}</b></div>`).join('');
        setInterval(()=>{document.getElementById('newsTimer').innerText=formatTime(NEWS_INT-(Date.now()-last))},1000);
    }

    function shoot(p){
        const last=localStorage.getItem('shot_t')||0;
        if(Date.now()-last < SHOT_INT) return;
        const k=Math.floor(Math.random()*3), off=["-75px","0px","75px"];
        document.getElementById('keeper').style.transform=`translateX(${off[k]})`;
        document.getElementById('ball').style.transform=`translate(${off[p]},-115px) scale(0.6)`;
        setTimeout(()=>{
            if(p===k) document.getElementById('gameMsg').innerText="QAPICI TUTDU! üß§";
            else {
                document.getElementById('gameMsg').innerText="QOL OLDU! +100 XP"; updateStats(100);
                let ga=document.getElementById('goalAlert'); ga.style.transform="translate(-50%,-50%) scale(1)";
                setTimeout(()=>ga.style.transform="translate(-50%,-50%) scale(0)",1500);
            }
            localStorage.setItem('shot_t', Date.now()); handleShot();
        },500);
    }

    function handleShot(){
        const last=localStorage.getItem('shot_t')||0, rem=SHOT_INT-(Date.now()-last);
        const btns=document.querySelectorAll('#shotControls button');
        if(rem>0){
            btns.forEach(b=>b.disabled=true);
            const itv=setInterval(()=>{
                let r=SHOT_INT-(Date.now()-last);
                document.getElementById('shotTimer').innerText=formatTime(r);
                if(r<=0){clearInterval(itv); handleShot();}
            },1000);
        } else { btns.forEach(b=>b.disabled=false); document.getElementById('shotTimer').innerText="HAZIR"; }
    }

    function handleQuiz(){
        const last=localStorage.getItem('quiz_t')||0, rem=QUIZ_INT-(Date.now()-last), b=document.getElementById('quizIn');
        if(rem>0){
            b.innerHTML=`<center style="padding:20px;opacity:0.5">Sual hazƒ±rlanƒ±r...</center>`;
            setInterval(()=>document.getElementById('quizTimer').innerText=formatTime(QUIZ_INT-(Date.now()-last)),1000);
        } else {
            const q={q:"D√ºnya √áempionatƒ±nƒ± …ôn √ßox qazanan?", a:["ƒ∞taliya","Braziliya","Almaniya"], c:1};
            b.innerHTML=`<div style="text-align:center;font-weight:bold;margin-bottom:10px">${q.q}</div>`+q.a.map((o,i)=>`<div class="quiz-option" onclick="checkQ(this,${i},${q.c})">${o}</div>`).join('');
            document.getElementById('quizTimer').innerText="AKTƒ∞VDƒ∞R";
        }
    }

    function checkQ(el,i,c){
        if(i===c){el.classList.add('quiz-correct'); updateStats(50);} else el.classList.add('quiz-wrong');
        localStorage.setItem('quiz_t',Date.now()); setTimeout(handleQuiz,2000);
    }

    function openModal(){
        document.getElementById('rankList').innerHTML=ranks.map(r=>`<div style="display:flex;justify-content:space-between;${userXP>=r.x?'color:var(--accent);font-weight:bold':'opacity:0.4'}"><span>LVL ${r.lvl} - ${r.n}</span><span>${r.x} XP</span></div>`).join('');
        document.getElementById('levelModal').style.transform="translate(-50%,-50%) scale(1)"; document.getElementById('overlay').style.display='block';
    }
    function closeModal(){ document.getElementById('levelModal').style.transform="translate(-50%,-50%) scale(0)"; document.getElementById('overlay').style.display='none'; }
    function toggleTheme(){ let b=document.body; b.hasAttribute('data-theme')?b.removeAttribute('data-theme'):b.setAttribute('data-theme','dark'); }
    
    window.onload=()=>{ updateStats(); handleNews(); handleShot(); handleQuiz(); };
</script>
</body>
</html>
